<!DOCTYPE html>
<html lang="ar" dir="rtl">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ØªØ´ÙƒÙŠÙ„Ø© ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù…</title>
    <style>
      body {
        font-family: "Cairo", Arial, sans-serif;
        background-color: #f0f0f0;
        margin: 0;
        padding: 20px;
        direction: rtl;
        transition: background-color 0.5s ease;
      }
      h1 {
        text-align: center;
        color: #2c3e50;
        animation: fadeIn 1s ease-in;
      }
      .football-field {
        width: 800px;
        height: 600px;
        background-color: #4caf50;
        margin: 0 auto;
        position: relative;
        border: 5px solid white;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        background-image: linear-gradient(to right, white 2px, transparent 2px),
          linear-gradient(to bottom, white 2px, transparent 2px);
        background-size: 100px 100px;
        animation: fieldFadeIn 1.2s ease-in;
      }
      .center-circle {
        width: 150px;
        height: 150px;
        border: 5px solid white;
        border-radius: 50%;
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        animation: drawCircle 1.5s ease-out;
      }
      @keyframes drawCircle {
        0% {
          width: 0;
          height: 0;
          opacity: 0;
        }
        100% {
          width: 150px;
          height: 150px;
          opacity: 1;
        }
      }
      .goal-area {
        width: 150px;
        height: 50px;
        border: 5px solid white;
        position: absolute;
        animation: slideIn 0.8s ease-out;
      }
      @keyframes slideIn {
        0% {
          width: 0;
          opacity: 0;
        }
        100% {
          width: 150px;
          opacity: 1;
        }
      }
      .goal-area-top {
        top: 0;
        left: 50%;
        transform: translateX(-50%);
      }
      .goal-area-bottom {
        bottom: 0;
        left: 50%;
        transform: translateX(-50%);
      }
      .player {
        width: 80px;
        height: 80px;
        background-color: #e74c3c;
        border-radius: 50%;
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        position: absolute;
        text-align: center;
        font-size: 12px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        z-index: 2;
        animation: playerAppear 0.5s ease-out;
      }
      @keyframes playerAppear {
        0% {
          transform: scale(0);
          opacity: 0;
        }
        70% {
          transform: scale(1.1);
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      .player:hover {
        transform: scale(1.1);
        z-index: 10;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.8);
      }
      .player.dragging {
        opacity: 0.5;
        transform: scale(1.1);
      }
      .player-name {
        max-width: 100%;
        word-wrap: break-word;
      }
      .controls {
        margin: 20px auto;
        text-align: center;
        animation: fadeIn 1s ease-in;
      }
      @keyframes fadeIn {
        from {
          opacity: 0;
          transform: translateY(20px);
        }
        to {
          opacity: 1;
          transform: translateY(0);
        }
      }
      @keyframes fieldFadeIn {
        from {
          opacity: 0;
          transform: scale(0.95);
        }
        to {
          opacity: 1;
          transform: scale(1);
        }
      }
      button {
        padding: 10px 20px;
        margin: 0 5px;
        background-color: #3498db;
        color: white;
        border: none;
        border-radius: 5px;
        cursor: pointer;
        font-family: "Cairo", Arial, sans-serif;
        transition: all 0.3s;
        position: relative;
        overflow: hidden;
      }
      button:hover {
        background-color: #2980b9;
        transform: translateY(-3px);
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
      }
      button:active {
        transform: translateY(-1px);
      }
      button::after {
        content: "";
        position: absolute;
        width: 100%;
        height: 100%;
        top: 0;
        left: 0;
        background-color: rgba(255, 255, 255, 0.3);
        border-radius: 5px;
        transform: scaleX(0);
        transform-origin: right;
        transition: transform 0.3s;
      }
      button:hover::after {
        transform: scaleX(1);
        transform-origin: left;
      }
      .formation-name {
        text-align: center;
        font-size: 18px;
        margin-bottom: 10px;
        font-weight: bold;
        animation: fadeIn 0.8s ease-in;
      }
      .player-list {
        width: 800px;
        margin: 20px auto;
        display: none;
        background-color: white;
        padding: 20px;
        border-radius: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        animation: expandDown 0.5s forwards;
      }
      @keyframes expandDown {
        from {
          opacity: 0;
          max-height: 0;
          transform: translateY(-20px);
        }
        to {
          opacity: 1;
          max-height: 1000px;
          transform: translateY(0);
        }
      }
      table {
        width: 100%;
        border-collapse: collapse;
      }
      th,
      td {
        padding: 10px;
        text-align: right;
        border-bottom: 1px solid #ddd;
      }
      th {
        background-color: #3498db;
        color: white;
      }
      .toggle-list {
        margin-top: 20px;
      }

      /* Ø¨Ù†Ø´ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† (Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·ÙŠ) */
      .player-bench {
        width: 800px;
        min-height: 120px;
        background-color: #34495e;
        margin: 20px auto;
        padding: 10px;
        border-radius: 10px;
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        gap: 10px;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        animation: fadeIn 1s ease-in;
      }
      .bench-title {
        width: 100%;
        color: white;
        text-align: center;
        font-size: 18px;
        margin-bottom: 10px;
      }
      .bench-player {
        width: 70px;
        height: 70px;
        background-color: #9b59b6;
        border-radius: 50%;
        color: white;
        display: flex;
        justify-content: center;
        align-items: center;
        text-align: center;
        font-size: 10px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
        animation: playerAppear 0.5s ease-out;
      }
      .bench-player:hover {
        transform: scale(1.1);
        background-color: #8e44ad;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.6);
      }
      .dropzone {
        border: 2px dashed rgba(255, 255, 255, 0.4);
        background-color: rgba(255, 255, 255, 0.1);
      }

      /* Theme toggle */
      .theme-toggle {
        position: fixed;
        top: 20px;
        left: 20px;
        background-color: #2c3e50;
        color: white;
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        transition: all 0.3s;
        z-index: 100;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.3);
      }
      .theme-toggle:hover {
        transform: rotate(180deg);
        background-color: #e74c3c;
      }

      /* Dark theme */
      body.dark-theme {
        background-color: #2c3e50;
        color: white;
      }
      body.dark-theme h1 {
        color: #ecf0f1;
      }
      body.dark-theme .football-field {
        background-color: #27ae60;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
      }
      body.dark-theme .player {
        background-color: #e74c3c;
      }
      body.dark-theme .bench-player {
        background-color: #8e44ad;
      }
      body.dark-theme .bench-player:hover {
        background-color: #9b59b6;
      }
      body.dark-theme .player-list {
        background-color: #34495e;
        color: white;
      }
      body.dark-theme td {
        border-bottom: 1px solid #3498db;
        color: #ecf0f1;
      }
      body.dark-theme .player-bench {
        background-color: #2c3e50;
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.5);
      }
    </style>
  </head>
  <body>
    <div class="theme-toggle" onclick="toggleTheme()">ğŸŒ“</div>
    <h1>ØªØ´ÙƒÙŠÙ„Ø© ÙØ±ÙŠÙ‚ ÙƒØ±Ø© Ø§Ù„Ù‚Ø¯Ù… - Ù…Ø¯Ø±Ø³Ø© Ø§Ù„Ø³ÙˆÙŠØ³ Ù„Ù„ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠØ§ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚ÙŠØ©</h1>
    <div class="formation-name" id="formation-name">Ø§Ù„ØªØ´ÙƒÙŠÙ„ 4-4-2</div>

    <div class="football-field" id="field">
      <div class="center-circle"></div>
      <div class="goal-area goal-area-top"></div>
      <div class="goal-area goal-area-bottom"></div>
    </div>

    <div class="player-bench" id="player-bench">
      <div class="bench-title">Ù„Ø§Ø¹Ø¨ÙŠ Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·</div>
      <!-- Ø³ÙŠØªÙ… Ø¥Ø¶Ø§ÙØ© Ù„Ø§Ø¹Ø¨ÙŠ Ø§Ù„Ø§Ø­ØªÙŠØ§Ø· Ù‡Ù†Ø§ Ø¨ÙˆØ§Ø³Ø·Ø© Ø§Ù„Ø¬Ø§ÙØ§Ø³ÙƒØ±Ø¨Øª -->
    </div>

    <div class="controls">
      <button onclick="changeFormation('4-4-2')">ØªØ´ÙƒÙŠÙ„ 4-4-2</button>
      <button onclick="changeFormation('4-3-3')">ØªØ´ÙƒÙŠÙ„ 4-3-3</button>
      <button onclick="changeFormation('3-5-2')">ØªØ´ÙƒÙŠÙ„ 3-5-2</button>
      <button onclick="changeFormation('5-3-2')">ØªØ´ÙƒÙŠÙ„ 5-3-2</button>
      <button onclick="togglePlayerList()" class="toggle-list">
        Ø¹Ø±Ø¶ Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†
      </button>
    </div>

    <div class="player-list" id="player-list">
      <h2>Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†</h2>
      <table>
        <tr>
          <th>Ù…</th>
          <th>Ø§Ø³Ù… Ø§Ù„Ø·Ø§Ù„Ø¨</th>
          <th>Ø±Ù‚Ù… Ø§Ù„Ø¬Ù„ÙˆØ³</th>
        </tr>
      </table>
    </div>

    <script>
      // Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø·Ù„Ø§Ø¨
      const players = [
        { id: 1, name: "Ø­Ø§Ø²Ù… Ù…Ø­Ù…Ø¯ Ø¹Ø² Ø§Ù„Ø¯ÙŠÙ† Ù…Ø­Ù…Ø¯ Ù‚Ø§Ø³Ù…", seatNumber: "C355" },
        { id: 2, name: "Ø±Ø§Ù…ÙŠ Ø¹Ø¨Ø¯Ø§Ù„ÙƒØ±ÙŠÙ… Ø§Ø­Ù…Ø¯ Ù…Ø­Ù…Ø¯", seatNumber: "C356" },
        { id: 3, name: "Ø´Ø§Ø¯ÙŠ Ø®Ù„Ù Ø§Ù„Ù„Ù‡ Ø§Ø­Ù…Ø¯", seatNumber: "C357" },
        { id: 4, name: "Ø³ÙŠÙ Ø§Ù„Ø¯ÙŠÙ† Ù…Ø­Ù…Ø¯ ØµÙ„Ø§Ø­ Ø²ØºÙ„ÙˆÙ„", seatNumber: "C358" },
        { id: 5, name: "Ø³ÙŠÙ Ø§Ù„Ù„Ù‡ Ù…ØµØ·ÙÙ‰ ØºØ±ÙŠØ¨ Ù…ØµØ·ÙÙ‰ Ù…Ø­Ù…Ø¯", seatNumber: "C359" },
        { id: 6, name: "Ø´Ù‡ÙŠØ¯ Ù…Ø­Ù…Ø¯ Ù…Ø­Ù…ÙˆØ¯ Ø§Ù„Ø³ÙŠØ¯", seatNumber: "C360" },
        { id: 7, name: "Ø·Ø§Ø±Ù‚ ØºØ±ÙŠØ¨ Ø¬Ø§Ø¯ Ø§Ù„Ø±Ø¨ Ø¹Ø¨Ø¯ Ø§Ù„Ù…Ø¬ÙŠØ¯", seatNumber: "C361" },
        { id: 8, name: "Ø¹Ø¨Ø¯Ø§Ù„Ø±Ø­Ù…Ù† Ø±ÙŠØ§Ø¶ Ø­Ø§ÙØ¸ Ù…Ø­Ù…Ø¯", seatNumber: "C362" },
        {
          id: 9,
          name: "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ø­Ø³Ø§Ù… Ù…Ø­Ù…ÙˆØ¯ Ù…Ø­Ù…Ø¯ Ø¹Ø¨Ø¯ Ø§Ù„Ø±Ø­ÙŠÙ…",
          seatNumber: "C363",
        },
        { id: 10, name: "Ø¹Ø¨Ø¯Ø§Ù„Ù„Ù‡ Ù…Ø­Ù…ÙˆØ¯ Ø­Ø³ÙŠÙ† Ù…Ø­Ù…Ø¯", seatNumber: "C364" },
        { id: 11, name: "Ø¹Ø¯ÙˆÙŠ Ù…Ø­Ù…ÙˆØ¯ Ø¹Ø¯ÙˆÙŠ Ù…Ø­Ù…ÙˆØ¯ Ø¹Ø¨Ø¯", seatNumber: "C365" },
        { id: 12, name: "Ø¹Ù„ÙŠ Ø§Ø­Ù…Ø¯ Ø³Ø¹ÙŠØ¯ Ø¹Ù„ÙŠ Ù…Ø­Ù…ÙˆØ¯", seatNumber: "C366" },
        { id: 13, name: "Ø¹Ù…Ø± Ø¹Ø¨Ø¯ Ø§Ù„Ø¹Ø²ÙŠØ² Ø§Ø­Ù…Ø¯ Ø§Ù„Ø¹Ø²Ø¨", seatNumber: "C367" },
        { id: 14, name: "Ø¹Ù…Ø± Ù…Ø­Ù…Ø¯ ÙØ§Ø±ÙˆÙ‚ Ù…Ø­Ù…Ø¯", seatNumber: "C368" },
        { id: 15, name: "ÙƒØ±ÙŠÙ… Ø­Ø³ÙŠÙ† Ø­Ø³Ù† Ø­Ø³ÙŠÙ†", seatNumber: "C369" },
        { id: 16, name: "Ù…Ø­Ù…Ø¯ Ø§Ø­Ù…Ø¯ Ø´Ø­ØªÙ‡ Ø§Ø­Ù…Ø¯", seatNumber: "C370" },
        { id: 17, name: "Ù…Ø­Ù…Ø¯ Ù…Ø­Ù…ÙˆØ¯ Ø³Ù„Ø§Ù…Ù‡ Ø§Ø­Ù…Ø¯", seatNumber: "C371" },
        { id: 18, name: "Ù…Ø­Ù…Ø¯ Ù…Ø­Ù…ÙˆØ¯ Ø¹Ø¨Ø¯ Ø§Ù„ÙØªØ§Ø­ Ø§Ø¨Ùˆ Ø§Ù„Ø­Ø³Ù†", seatNumber: "C372" },
      ];

      // ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„Ø³Ù…Ø© (Ø§Ù„Ø«ÙŠÙ…)
      function toggleTheme() {
        document.body.classList.toggle("dark-theme");
      }

      // Ø¥Ù†Ø´Ø§Ø¡ Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ†
      function createPlayerTable() {
        const table = document.querySelector(".player-list table");

        players.forEach((player) => {
          const row = document.createElement("tr");
          row.innerHTML = `
                    <td>${player.id}</td>
                    <td>${player.name}</td>
                    <td>${player.seatNumber}</td>
                `;
          table.appendChild(row);
        });
      }

      createPlayerTable();

      // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ù„Ù„Ù…Ù„Ø¹Ø¨ ÙˆØ¯ÙƒØ© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·
      function addPlayersToField(formation) {
        const field = document.getElementById("field");
        const bench = document.getElementById("player-bench");

        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ø­Ø§Ù„ÙŠÙŠÙ† Ù…Ù† Ø§Ù„Ù…Ù„Ø¹Ø¨ ÙˆØ¯ÙƒØ© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·
        const existingPlayers = document.querySelectorAll(
          ".player, .bench-player"
        );
        existingPlayers.forEach((player) => player.remove());

        // Ø¥Ø¶Ø§ÙØ© Ø¹Ù†ÙˆØ§Ù† Ù„Ø¯ÙƒØ© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·
        if (!document.querySelector(".bench-title")) {
          const benchTitle = document.createElement("div");
          benchTitle.className = "bench-title";
          benchTitle.textContent = "Ù„Ø§Ø¹Ø¨ÙŠ Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·";
          bench.appendChild(benchTitle);
        }

        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø­Ø³Ø¨ Ø§Ù„ØªØ´ÙƒÙŠÙ„
        let positions = [];

        switch (formation) {
          case "4-4-2":
            positions = [
              { top: "85%", left: "50%" }, // Ø­Ø§Ø±Ø³ Ø§Ù„Ù…Ø±Ù…Ù‰
              { top: "70%", left: "20%" }, // Ø¯ÙØ§Ø¹
              { top: "70%", left: "40%" }, // Ø¯ÙØ§Ø¹
              { top: "70%", left: "60%" }, // Ø¯ÙØ§Ø¹
              { top: "70%", left: "80%" }, // Ø¯ÙØ§Ø¹
              { top: "50%", left: "20%" }, // ÙˆØ³Ø·
              { top: "50%", left: "40%" }, // ÙˆØ³Ø·
              { top: "50%", left: "60%" }, // ÙˆØ³Ø·
              { top: "50%", left: "80%" }, // ÙˆØ³Ø·
              { top: "25%", left: "35%" }, // Ù‡Ø¬ÙˆÙ…
              { top: "25%", left: "65%" }, // Ù‡Ø¬ÙˆÙ…
            ];
            break;
          case "4-3-3":
            positions = [
              { top: "85%", left: "50%" }, // Ø­Ø§Ø±Ø³ Ø§Ù„Ù…Ø±Ù…Ù‰
              { top: "70%", left: "20%" }, // Ø¯ÙØ§Ø¹
              { top: "70%", left: "40%" }, // Ø¯ÙØ§Ø¹
              { top: "70%", left: "60%" }, // Ø¯ÙØ§Ø¹
              { top: "70%", left: "80%" }, // Ø¯ÙØ§Ø¹
              { top: "50%", left: "30%" }, // ÙˆØ³Ø·
              { top: "50%", left: "50%" }, // ÙˆØ³Ø·
              { top: "50%", left: "70%" }, // ÙˆØ³Ø·
              { top: "25%", left: "25%" }, // Ù‡Ø¬ÙˆÙ…
              { top: "15%", left: "50%" }, // Ù‡Ø¬ÙˆÙ…
              { top: "25%", left: "75%" }, // Ù‡Ø¬ÙˆÙ…
            ];
            break;
          case "3-5-2":
            positions = [
              { top: "85%", left: "50%" }, // Ø­Ø§Ø±Ø³ Ø§Ù„Ù…Ø±Ù…Ù‰
              { top: "70%", left: "30%" }, // Ø¯ÙØ§Ø¹
              { top: "70%", left: "50%" }, // Ø¯ÙØ§Ø¹
              { top: "70%", left: "70%" }, // Ø¯ÙØ§Ø¹
              { top: "50%", left: "15%" }, // ÙˆØ³Ø·
              { top: "50%", left: "35%" }, // ÙˆØ³Ø·
              { top: "45%", left: "50%" }, // ÙˆØ³Ø·
              { top: "50%", left: "65%" }, // ÙˆØ³Ø·
              { top: "50%", left: "85%" }, // ÙˆØ³Ø·
              { top: "25%", left: "35%" }, // Ù‡Ø¬ÙˆÙ…
              { top: "25%", left: "65%" }, // Ù‡Ø¬ÙˆÙ…
            ];
            break;
          case "5-3-2":
            positions = [
              { top: "85%", left: "50%" }, // Ø­Ø§Ø±Ø³ Ø§Ù„Ù…Ø±Ù…Ù‰
              { top: "70%", left: "15%" }, // Ø¯ÙØ§Ø¹
              { top: "70%", left: "30%" }, // Ø¯ÙØ§Ø¹
              { top: "75%", left: "50%" }, // Ø¯ÙØ§Ø¹
              { top: "70%", left: "70%" }, // Ø¯ÙØ§Ø¹
              { top: "70%", left: "85%" }, // Ø¯ÙØ§Ø¹
              { top: "50%", left: "30%" }, // ÙˆØ³Ø·
              { top: "45%", left: "50%" }, // ÙˆØ³Ø·
              { top: "50%", left: "70%" }, // ÙˆØ³Ø·
              { top: "25%", left: "35%" }, // Ù‡Ø¬ÙˆÙ…
              { top: "25%", left: "65%" }, // Ù‡Ø¬ÙˆÙ…
            ];
            break;
        }

        // Ø­Ø³Ø§Ø¨ Ø¹Ø¯Ø¯ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙÙŠ Ø§Ù„ØªØ´ÙƒÙŠÙ„Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©
        const starters = Math.min(11, players.length);

        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ø§Ù„Ø£Ø³Ø§Ø³ÙŠÙŠÙ† ÙÙŠ Ø§Ù„Ù…Ù„Ø¹Ø¨
        for (let i = 0; i < starters; i++) {
          const player = document.createElement("div");
          player.className = "player";
          player.id = `player-field-${i}`;
          player.setAttribute("data-player-id", players[i].id);
          player.innerHTML = `<div class="player-name">${players[i].name}</div>`;
          player.style.top = positions[i].top;
          player.style.left = positions[i].left;
          player.title = `${players[i].name} - ${players[i].seatNumber}`;

          // Ø¬Ø¹Ù„ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† Ù‚Ø§Ø¨Ù„ÙŠÙ† Ù„Ù„Ø³Ø­Ø¨
          player.draggable = true;

          // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø®ÙŠØ± Ù„Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ©
          setTimeout(() => {
            field.appendChild(player);
          }, i * 100);
        }

        // Ø¥Ø¶Ø§ÙØ© Ø¨Ø§Ù‚ÙŠ Ø§Ù„Ù„Ø§Ø¹Ø¨ÙŠÙ† ÙÙŠ Ø¯ÙƒØ© Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·
        for (let i = starters; i < players.length; i++) {
          const player = document.createElement("div");
          player.className = "bench-player";
          player.id = `player-bench-${i}`;
          player.setAttribute("data-player-id", players[i].id);
          player.innerHTML = `<div class="player-name">${players[i].name}</div>`;
          player.title = `${players[i].name} - ${players[i].seatNumber}`;

          // Ø¬Ø¹Ù„ Ù„Ø§Ø¹Ø¨ÙŠ Ø§Ù„Ø§Ø­ØªÙŠØ§Ø· Ù‚Ø§Ø¨Ù„ÙŠÙ† Ù„Ù„Ø³Ø­Ø¨
          player.draggable = true;

          // Ø¥Ø¶Ø§ÙØ© ØªØ£Ø®ÙŠØ± Ù„Ù„Ø±Ø³ÙˆÙ… Ø§Ù„Ù…ØªØ­Ø±ÙƒØ©
          setTimeout(() => {
            bench.appendChild(player);
          }, (i - starters) * 100 + 500);
        }

        // ØªØ­Ø¯ÙŠØ« Ø§Ø³Ù… Ø§Ù„ØªØ´ÙƒÙŠÙ„
        document.getElementById(
          "formation-name"
        ).textContent = `Ø§Ù„ØªØ´ÙƒÙŠÙ„ ${formation}`;

        // Ø¥Ø¹Ø§Ø¯Ø© ØªØ¹ÙŠÙŠÙ† Ø§Ø³ØªÙ…Ø§Ø¹Ø§Øª Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª
        setupDragAndDrop();
      }

      function changeFormation(formation) {
        addPlayersToField(formation);
      }

      function togglePlayerList() {
        const playerList = document.getElementById("player-list");
        if (playerList.style.display === "block") {
          playerList.style.display = "none";
        } else {
          playerList.style.display = "block";
        }
      }

      // ÙˆØ¸Ø§Ø¦Ù Ø§Ù„Ø³Ø­Ø¨ ÙˆØ§Ù„Ø¥ÙÙ„Ø§Øª Ø§Ù„Ù…ÙØ­Ø³Ù‘Ù†Ø©
      function setupDragAndDrop() {
        const draggables = document.querySelectorAll(".player, .bench-player");
        const droppables = [
          document.getElementById("field"),
          document.getElementById("player-bench"),
        ];

        draggables.forEach((draggable) => {
          draggable.addEventListener("dragstart", dragStart);
          draggable.addEventListener("dragend", dragEnd);
        });

        droppables.forEach((droppable) => {
          droppable.addEventListener("dragover", dragOver);
          droppable.addEventListener("dragenter", dragEnter);
          droppable.addEventListener("dragleave", dragLeave);
          droppable.addEventListener("drop", drop);
        });
      }

      function dragStart(e) {
        this.classList.add("dragging");
        e.dataTransfer.setData("text/plain", this.id);
        e.dataTransfer.setData(
          "application/json",
          JSON.stringify({
            id: this.id,
            playerId: this.getAttribute("data-player-id"),
            name: this.querySelector(".player-name").textContent,
            fromField: this.classList.contains("player"),
          })
        );

        setTimeout(() => {
          this.style.opacity = "0.4";
        }, 0);
      }

      function dragEnd() {
        this.classList.remove("dragging");
        this.style.opacity = "1";
      }

      function dragOver(e) {
        e.preventDefault();
      }

      function dragEnter(e) {
        e.preventDefault();
        this.classList.add("dropzone");
      }

      function dragLeave() {
        this.classList.remove("dropzone");
      }

      function drop(e) {
        e.preventDefault();
        this.classList.remove("dropzone");

        const data = JSON.parse(e.dataTransfer.getData("application/json"));
        const draggedElement = document.getElementById(data.id);

        if (!draggedElement) return;

        // ØªØ­Ø¯ÙŠØ¯ Ù…Ø§ Ø¥Ø°Ø§ ÙƒØ§Ù† Ø§Ù„Ø³Ø­Ø¨ Ù…Ù† Ø§Ù„Ù…Ù„Ø¹Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ø§Ø­ØªÙŠØ§Ø· Ø£Ùˆ Ø§Ù„Ø¹ÙƒØ³
        const toField = this.id === "field";
        const fromField = data.fromField;

        // Ø¥Ø²Ø§Ù„Ø© Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ù…Ø³Ø­ÙˆØ¨ Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø­Ø§Ù„ÙŠ
        draggedElement.remove();

        // Ø¥Ù†Ø´Ø§Ø¡ Ø¹Ù†ØµØ± Ø¬Ø¯ÙŠØ¯ ÙÙŠ Ø§Ù„Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ù‡Ø¯Ù
        const newElement = document.createElement("div");

        if (toField) {
          // Ø¥Ø¶Ø§ÙØ© Ù„Ø§Ø¹Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù„Ø¹Ø¨
          newElement.className = "player";
          newElement.id = `player-field-${Date.now()}`;

          // ØªØ­Ø¯ÙŠØ¯ Ø§Ù„Ù…ÙˆÙ‚Ø¹ ÙÙŠ Ø§Ù„Ù…Ù„Ø¹Ø¨
          const fieldRect = this.getBoundingClientRect();
          const x = e.clientX - fieldRect.left;
          const y = e.clientY - fieldRect.top;

          newElement.style.left = `${(x / fieldRect.width) * 100}%`;
          newElement.style.top = `${(y / fieldRect.height) * 100}%`;

          // Ø±Ø³Ù… Ù…ØªØ­Ø±Ùƒ Ù„Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù„Ø¹Ø¨
          newElement.style.animation = "playerAppear 0.5s ease-out";
        } else {
          // Ø¥Ø¶Ø§ÙØ© Ù„Ø§Ø¹Ø¨ Ø¥Ù„Ù‰ Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·
          newElement.className = "bench-player";
          newElement.id = `player-bench-${Date.now()}`;

          // Ø±Ø³Ù… Ù…ØªØ­Ø±Ùƒ Ù„Ù„Ø¥Ø¶Ø§ÙØ© Ø¥Ù„Ù‰ Ø§Ù„Ø§Ø­ØªÙŠØ§Ø·
          newElement.style.animation = "playerAppear 0.5s ease-out";
        }

        // Ø¥Ø¹Ø¯Ø§Ø¯ Ø§Ù„Ø¹Ù†ØµØ± Ø§Ù„Ø¬Ø¯ÙŠØ¯
        newElement.setAttribute("data-player-id", data.playerId);
        newElement.innerHTML = `<div class="player-name">${data.name}</div>`;
        newElement.draggable = true;
        newElement.addEventListener("dragstart", dragStart);
        newElement.addEventListener("dragend", dragEnd);

        // Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¹Ù†ØµØ± Ø¥Ù„Ù‰ Ø§Ù„Ù‡Ø¯Ù
        this.appendChild(newElement);
      }

      // ØªØ­Ù…ÙŠÙ„ Ø§Ù„ØªØ´ÙƒÙŠÙ„ Ø§Ù„Ø§ÙØªØ±Ø§Ø¶ÙŠ
      window.onload = function () {
        addPlayersToField("4-4-2");
      };
    </script>
  </body>
</html>
